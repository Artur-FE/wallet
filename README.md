### Тестовое задание: Сервис управления электронными кошельками

**Цель задания:**
Разработать микросервис для управления электронными кошельками

**Основные требования к функциональности:**

1.  **RESTful API:**
    * **Изменение счета (операции):** Реализовать `POST` эндпоинт по адресу `/api/v1/wallet`. Этот эндпоинт должен принимать данные о кошельке (`walletId`), типе операции (`operationType`: `DEPOSIT` или `WITHDRAW`) и сумме (`amount`).
    * **Получение баланса:** Реализовать `GET` эндпоинт по адресу `/api/v1/wallet/{WALLET_UUID}` для получения текущего баланса кошелька по его уникальному идентификатору (UUID).

2.  **Стек технологий:**
    * Приложение должно быть написано на **Java** (версии 8-17).
    * Использовать фреймворк **Spring 3**.
    * В качестве базы данных использовать **PostgreSQL**.

3.  **Обработка конкурентных запросов:**
    * Обеспечить корректную работу сервиса при высокой нагрузке, в частности, при **1000 запросов в секунду (RPS) к одному и тому же кошельку**. Ни один запрос не должен быть обработан с ошибкой 50x (серверная ошибка).

4.  **Обработка ошибок и формат ответа:**
    * Предусмотреть обработку различных сценариев ошибок и возвращать стандартизированные ответы.
    * Примеры ошибок, которые нужно обработать:
        * Кошелек с указанным ID не существует.
        * Невалидный формат входных данных (например, неверный JSON, неправильный формат UUID).
        * Недостаточно средств на балансе для выполнения операции снятия.

5.  **Развертывание с Docker:**
    * Приложение должно быть контейнеризовано и запускаться в **Docker-контейнере**.
    * База данных также должна запускаться в **Docker-контейнере**.
    * Вся система (приложение + база данных) должна подниматься с помощью **Docker Compose**.
    * Должна быть предусмотрена возможность **настраивать различные параметры** (как для приложения, так и для базы данных) без необходимости пересборки Docker-контейнеров.

6.  **Миграции базы данных:**
    * Для управления схемой базы данных должны быть написаны миграции с использованием **Liquibase**.

7.  **Покрытие тестами:**
    * Все реализованные эндпоинты API должны быть покрыты тестами.


**Краткая сводка по реализации проекта "Сервис Управления Электронными Кошельками"**

В рамках тестового задания были успешно реализованы следующие требования:

* **RESTful API:** Эндпоинты для изменения счета (`POST /api/v1/wallet`) и получения баланса (`GET /api/v1/wallet/{WALLET_UUID}`) полностью реализованы.

* **Стек технологий:** Проект использует **Java 17**, **Spring Boot 3** и **PostgreSQL**, как указано в ТЗ.

* **Обработка конкурентных запросов:** Реализована с использованием пессимистических блокировок (`@Lock(LockModeType.PESSIMISTIC_WRITE)`) для обеспечения целостности данных при высокой нагрузке (1000 RPS к одному кошельку), предотвращая 5xx ошибки.

* **Обработка ошибок и формат ответа:** Внедрен централизованный `GlobalExceptionHandler` для обработки различных типов ошибок (валидация, невалидный JSON, нехватка средств, кошелек не найден, конфликты блокировок) с возвратом стандартизированных JSON-ответов.

* **Развертывание с Docker:** Приложение и база данных контейнеризованы и запускаются через `docker-compose.yml`.

* **Миграции базы данных:** Схема БД управляется с помощью Liquibase, файлы миграций предоставлены.

* **Покрытие тестами:** Эндпоинты контроллера покрыты тестами.
